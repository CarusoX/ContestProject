#include <stdlib.h>
#include <stdio.h>

int M = 5;
int barrio[5][5] = { {1, 2, 3, 4, 10}, {10, 9, 8, 5, 8}, {4, 5, 6, 6, 7}, {3, 2, 1, 7, 1}, {2, 1, 7, 8, 9} };
int j;
int i;
int largo = 0;
int pista[2][2];
char palabra[1000000];
char recorrido[1000000];

int irHaciaEl(int x, int y, int length);

bool norte(int x, int y);
bool sur(int x, int y);
bool este(int x, int y);
bool oeste(int x, int y);

int main() {

	for (i = 0; i < 5; i++) {
		for (j = 0; j < 5; j++) {
			irHaciaEl(i, j, 0);
		}
	}

	printf("El largo de la pista es %d.\n", largo);
	printf("Inicio: (%d, %d)  Fin: (%d, %d)\n", pista[0][0] + 1, pista[0][1] + 1, pista[1][0] + 1, pista[1][1] + 1);
	for (int i = 0; i < sizeof(recorrido); i++)
	{
		if ((int)recorrido[i] == 0) {
			break;
		}
		printf("%c", recorrido[i]);
	}
}

int irHaciaEl(int x, int y, int length) {

	if (norte(x, y)) {
		palabra[length] = 'N';
		irHaciaEl(x - 1, y, length + 1);
	}
	if (sur(x, y)) {
		palabra[length] = 'S';
		irHaciaEl(x + 1, y, length + 1);
	}
	if (este(x, y)) {
		palabra[length] = 'E';
		irHaciaEl(x, y + 1, length + 1);
	}
	if (oeste(x, y)) {
		palabra[length] = 'O';
		irHaciaEl(x, y - 1, length + 1);
	}
	if (length > largo) {
		for (int i = 0; i < sizeof(palabra); i++)
		{
			if ((int)palabra[i] == 0) {
				break;
			}
			recorrido[i] = palabra[i];
		}
		pista[0][0] = i;
		pista[0][1] = j;

		pista[1][0] = x;
		pista[1][1] = y;

		largo = length;
	}
	return 0;
}

bool norte(int x, int y) {
	if (x == 0) {
		return false;
	}
	if (barrio[x - 1][y] < barrio[x][y]) {
		return true;
	}
	return false;
}

bool sur(int x, int y) {
	if (x == 4) {
		return false;
	}
	if (barrio[x + 1][y] < barrio[x][y]) {
		return true;
	}
	return false;
}

bool este(int x, int y) {
	if (y == 4) {
		return false;
	}
	if (barrio[x][y + 1] < barrio[x][y]) {
		return true;
	}
	return false;
}

bool oeste(int x, int y) {
	if (y == 0) {
		return false;
	}
	if (barrio[x][y - 1] < barrio[x][y]) {
		return true;
	}
	return false;
}

