#include <stdio.h>
#include <stdlib.h>

char input[10];
int clave[9];
int N;
int iterator = 0;
int iterator2 = 0;
int iterator3 = 0;
char text[2000000];
char palabra[2000000];
int letra;

int redistribuir();
int iniciarClave();
int expansionDec();
int quitarEspacios();
char encriptado(int clave[9], int N, char palabra[2000000]);

int main() {

	fgets(input, 10, stdin);
	fgets(text, 2000000, stdin);

	iniciarClave();

	redistribuir();

	expansionDec();

	quitarEspacios();

	encriptado(clave, N, palabra);

	for (int i = 0; i < 2000000; i++)
	{
		if ((int)palabra[i] > 90 || (int)palabra[i] < 65) {
			break;
		}
		printf("%c", palabra[i]);
	}
	return 0;
}

int redistribuir() {
	N = (int)input[0] - 48;

	for (int i = 2; i < 10; i++) {
		if ((int)input[i] > 57 || (int)input[i] < 48) {
			break;
		}
		clave[iterator] = (int)input[i] - 48;
		iterator = iterator + 1;
	}
	return 0;
}

int iniciarClave() {
	for (int i = 0; i < 9; i++)
	{
		clave[i] = 10;
	}
	return 0;
}

int expansionDec() {

	if (N > iterator) {
		for (int i = 8; i > 0; i--)
		{
			clave[i] = clave[i - 1];
		}
		clave[0] = 0;
		iterator = iterator + 1;
		expansionDec();
	}
	else if (N < iterator) {
		for (int i = 0; i < 8; i++) {
			clave[i] = clave[i + 1];
		}
		iterator = iterator - 1;
		expansionDec();
	}
	else {
		return 0;
	}
}

int quitarEspacios() {
	for (int i = 0; i < 2000000; i++)
	{
		if ((int)text[i] == 0) {
			break;
		}
		if ((int)text[i] > 90 || (int)text[i] < 65) {
		}
		else {
			palabra[iterator2] = text[i];
			iterator2 = iterator2 + 1;
		}
	}
	return 0;
}

char encriptado(int clave[9], int N, char palabra[2000000]) {

	for (int i = 0; i < 2000000; i++)
	{
		if ((int)palabra[i] == 0) {
			break;
		}
		if (clave[iterator3] == 10) {
			iterator3 = 0;
		}
		letra = (int)palabra[i] + clave[iterator3];

		if (letra > 90) {
			letra = letra - 26;
		}
		palabra[i] = (char)letra;
		iterator3 = iterator3 + 1;
	}

	return palabra[2000000];
}
